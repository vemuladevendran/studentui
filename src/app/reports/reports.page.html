<ion-header>
  <ion-toolbar>
    <ion-title>Reports <span class="float-end fs-1" title="profile" routerLink='/profile'><ion-icon name="person-circle" class="fs-1"></ion-icon></span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="refreshPage($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <div class="container h-100">
    <div class="row h-100">
      <!-- loader -->

      <ng-container *ngIf="showLoader">
        <div class="col-12 col-md-6 col-lg-4 col-xl-3" *ngFor="let l of [1,1,1,1,1,1,1,1,1,1,1]">
          <ion-list>
            <ion-list-header>
              <ion-label>
                <ion-skeleton-text animated style="width: 20%"></ion-skeleton-text>
              </ion-label>
            </ion-list-header>
            <ion-item>
              <ion-thumbnail slot="start">
                <ion-skeleton-text animated></ion-skeleton-text>
              </ion-thumbnail>
              <ion-label>
                <h3>
                  <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                </h3>
                <p>
                  <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
                </p>
                <p>
                  <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
                </p>
              </ion-label>
            </ion-item>
          </ion-list>
        </div>

      </ng-container>

      <!-- no content found -->
        <h3 class="fw-bold d-flex justify-content-center align-items-center" *ngIf="reports.length === 0">
          ! Reports Not Found
        </h3>

      <!-- reports list -->
      <ng-container *ngIf="reports.length !== 0">
        <div class="col-12 col-md-6 col-lg-4 col-xl-3" *ngFor="let r of reports">
          <ion-card>
            <ion-item>
              <ion-icon name="list-circle" slot="start"></ion-icon>
              <ion-label>{{r.reportTitle}}</ion-label>
              <ion-button fill="outline" slot="end" (click)="viewReports(r.id)">View</ion-button>
            </ion-item>
            <ion-card-content class="overflow-hidden text-nowrap text-truncate">
              {{r.reportContent}}
            </ion-card-content>
          </ion-card>
        </div>
      </ng-container>
    </div>
  </div>

</ion-content>